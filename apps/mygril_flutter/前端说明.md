# MyGril Flutter 鍓嶇鏋舵瀯璇存槑

## 馃彈锔?鏁翠綋鏋舵瀯

鏈」鐩噰鐢?**鍝嶅簲寮忓竷灞€**锛屾牴鎹睆骞曞搴﹁嚜鍔ㄥ垏鎹㈠竷灞€妯″紡锛?
- **绐勫睆妯″紡**锛堝搴?< 900px锛夛細鍗曢〉闈?+ 搴曢儴瀵艰埅
- **瀹藉睆妯″紡**锛堝搴?鈮?900px锛夛細鍙屾爮甯冨眬锛堝乏渚ц竟鏍?+ 鍙充晶鍐呭锛?

---

## 馃摫 绐勫睆妯″紡甯冨眬

### 鍦烘櫙1锛氫富鐣岄潰锛圡ainPage锛?

```
鈹屸攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?
鈹? [AppBar: MyGril]         [+]   鈹? 鈫?AppBar (ContactsPage/SettingsPage/ProfilePage)
鈹溾攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?
鈹?                                鈹?
鈹? [ContactsListContent]          鈹? 鈫?鍐呭鍖哄煙锛堟牴鎹簳閮ㄥ鑸垏鎹級
鈹? 鎴?[SettingsContent]           鈹?
鈹? 鎴?[ProfileContent]            鈹?
鈹?                                鈹?
鈹?                                鈹?
鈹溾攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?
鈹? [娑堟伅] [璁剧疆] [鎴戠殑]           鈹? 鈫?BottomNavigationBar (56dp)
鈹斺攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?
```

**缁勪欢璇存槑锛?*
- `MainPage` - 涓诲鍣紝鍖呭惈 `IndexedStack` 鍜?`BottomNavigationBar`
- `ContactsPage` - 鑱旂郴浜洪〉闈?= AppBar + `ContactsListContent`
- `SettingsPage` - 璁剧疆椤甸潰 = AppBar + `SettingsContent`
- `ProfilePage` - 涓汉涓績椤甸潰 = AppBar + `ProfileContent`

### 鍦烘櫙2锛氳亰澶╃晫闈紙ChatPage锛?

```
鈹屸攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?
鈹? [<] Hina               [缂栬緫]  鈹? 鈫?AppBar (ChatPage)
鈹溾攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?
鈹?                                鈹?
鈹? 鈹屸攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?       鈹?
鈹? 鈹?AI: 浣犲ソ锛?         鈹?       鈹? 鈫?MessageBubble (宸︿晶)
鈹? 鈹斺攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?       鈹?
鈹?                                鈹?
鈹?       鈹屸攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹? 鈹?
鈹?       鈹?User: 浣犲ソ锛孒ina     鈹? 鈹? 鈫?MessageBubble (鍙充晶)
鈹?       鈹斺攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹? 鈹?
鈹?                                鈹?
鈹溾攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?
鈹? [妯″瀷鈻糫 [杈撳叆妗?..] [鍥綸 [鈻禲  鈹? 鈫?Composer (56dp)
鈹斺攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?
```

**缁勪欢璇存槑锛?*
- `ChatPage` - 鑱婂ぉ椤甸潰锛屽寘鍚秷鎭垪琛ㄥ拰杈撳叆妗?
- `MessageBubble` - 娑堟伅姘旀场缁勪欢
- `Composer` - 杈撳叆妗嗙粍浠讹紙鍖呭惈妯″瀷閫夋嫨銆佸浘鐗囨寜閽€佸彂閫佹寜閽級

#### AppBar 鐨勨€滄洿澶氣€濇寜閽?鈫?鑱婂ぉ璁剧疆椤碉紙ChatSettingsPage锛?

瀹炵幇浣嶇疆锛歚apps/mygril_flutter/lib/src/features/chat/presentation/widgets/chat_settings_dialog.dart`

瑙﹀彂鏂瑰紡锛歚ChatPage` AppBar 鍙充晶鈥滄洿澶氣€濇寜閽紙`Icons.more_horiz`锛夌偣鍑诲悗锛屽彸渚ф粦鍏ュ睍绀恒€?

---

## 馃枼锔?瀹藉睆妯″紡甯冨眬锛圫plitChatPage锛?

### 鏁翠綋甯冨眬绀烘剰鍥?

```
鈹屸攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?
鈹? MyGril           [+]   鈹? Hina                       [缂栬緫]     [鈽癩  鈹?鈫?椤堕儴鏍?(58dp)
鈹溾攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹尖攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?
鈹?鈹屸攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?鈹? 鈹屸攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?鈹?
鈹?鈹?                    鈹?鈹? 鈹?                                       鈹?鈹?
鈹?鈹? [瑙掕壊鍒楄〃]         鈹?鈹? 鈹? 鈹屸攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?                鈹?鈹?
鈹?鈹? Hina 鉁?           鈹?鈹? 鈹? 鈹?AI: 浣犲ソ锛?      鈹?                鈹?鈹?
鈹?鈹? Arona             鈹?鈹? 鈹? 鈹斺攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?                鈹?鈹?
鈹?鈹? Shiroko           鈹?鈹? 鈹?                                       鈹?鈹?
鈹?鈹? ...               鈹?鈹? 鈹?             鈹屸攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?鈹?鈹?
鈹?鈹?                    鈹?鈹? 鈹?             鈹?User: 浣犲ソ锛孒ina    鈹?鈹?鈹?
鈹?鈹?                    鈹?鈹? 鈹?             鈹斺攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?鈹?鈹?
鈹?鈹?                    鈹?鈹? 鈹?                                       鈹?鈹?
鈹?鈹?                    鈹?鈹? 鈹?        [娑堟伅鍒楄〃鍖哄煙]                 鈹?鈹?
鈹?鈹?                    鈹?鈹? 鈹?                                       鈹?鈹?
鈹?鈹斺攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?鈹? 鈹斺攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?鈹?
鈹?                        鈹?                                             鈹?
鈹溾攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹尖攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?
鈹? [娑堟伅] [璁剧疆] [鎴戠殑]   鈹? [妯″瀷鈻糫 [杈撳叆妗?......] [馃摲] [鈻禲         鈹?鈫?搴曢儴鏍?(56dp)
鈹斺攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹粹攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?
    鈫?宸︿晶杈规爮 (320px)            鈫?鍙充晶鍐呭鍖?(鑷€傚簲瀹藉害)
```

### 璇︾粏瀹瑰櫒灞傜骇缁撴瀯

```
Scaffold (鏍瑰鍣?
鈹斺攢 Row (涓诲竷灞€琛?
   鈹溾攢 AnimatedContainer (宸︿晶杈规爮瀹瑰櫒, width: 320px 鍙皟)
   鈹? 鈹斺攢 Column (鍨傜洿甯冨眬)
   鈹?    鈹溾攢 Container (椤堕儴瀵艰埅鏍? height: 58dp)
   鈹?    鈹? 鈹斺攢 Row
   鈹?    鈹?    鈹溾攢 Text("MyGril")
   鈹?    鈹?    鈹溾攢 Spacer()
   鈹?    鈹?    鈹斺攢 IconButton(Icons.add) [浠呭湪娑堟伅鏍囩椤垫樉绀篯
   鈹?    鈹?
   鈹?    鈹溾攢 Expanded (鍐呭鍖哄煙, 楂樺害鑷€傚簲)
   鈹?    鈹? 鈹斺攢 Container (鑳屾櫙鑹? #F3F7F8)
   鈹?    鈹?    鈹斺攢 IndexedStack (鏍规嵁 _currentIndex 鍒囨崲)
   鈹?    鈹?       鈹溾攢 [0] ContactsListContent (鑱旂郴浜哄垪琛?
   鈹?    鈹?       鈹溾攢 [1] SettingsContent (璁剧疆鍐呭)
   鈹?    鈹?       鈹斺攢 [2] ProfileContent (涓汉涓績)
   鈹?    鈹?
   鈹?    鈹斺攢 Container (搴曢儴瀵艰埅鏍忓鍣?
   鈹?       鈹斺攢 BottomNavigationBar (height: 56dp)
   鈹?          鈹溾攢 娑堟伅 (index: 0)
   鈹?          鈹溾攢 璁剧疆 (index: 1)
   鈹?          鈹斺攢 鎴戠殑 (index: 2)
   鈹?
   鈹溾攢 MouseRegion + GestureDetector (鎷栧姩鍒嗗壊绾? width: 8px)
   鈹? 鈹斺攢 Container (瑙嗚鍒嗗壊绾? width: 1px)
   鈹?
   鈹斺攢 Expanded (鍙充晶鍐呭鍖? 瀹藉害鑷€傚簲)
      鈹斺攢 ChatPage(showToggleButton: true)
         鈹斺攢 Column
            鈹溾攢 AppBar (height: 58dp)
            鈹? 鈹溾攢 Leading: IconButton(collapse sidebar) [鍙€塢
            鈹? 鈹溾攢 Title: Text("瑙掕壊鍚?)
            鈹? 鈹斺攢 Actions: [缂栬緫鎸夐挳]
            鈹?
            鈹溾攢 Expanded (娑堟伅鍒楄〃鍖哄煙)
            鈹? 鈹斺攢 ListView.builder
            鈹?    鈹斺攢 MessageBubble (娑堟伅姘旀场)
            鈹?
            鈹斺攢 Container (杈撳叆妗嗗尯鍩? height: 56dp)
               鈹斺攢 Composer (缁勫悎杈撳叆妗?
                  鈹溾攢 DropdownButton (妯″瀷閫夋嫨)
                  鈹溾攢 TextField (娑堟伅杈撳叆妗?
                  鈹溾攢 IconButton (鍥剧墖鎸夐挳)
                  鈹斺攢 IconButton (鍙戦€佹寜閽?
```

### 灏哄瑙勮寖璇﹁В

| 鍖哄煙 | 瀹藉害 | 楂樺害 | 璇存槑 |
|------|------|------|------|
| **宸︿晶杈规爮** | 320px (200-600px) | 100% | 鍙嫋鍔ㄨ皟鏁村搴?|
| 鈹溾攢 椤堕儴瀵艰埅鏍?| 100% | 58dp | 56dp鍐呭 + 2dp搴曢儴杈规 |
| 鈹溾攢 鍐呭鍖哄煙 | 100% | 鑷€傚簲 | Expanded鑷姩濉厖 |
| 鈹斺攢 搴曢儴瀵艰埅鏍?| 100% | 56dp | Material鏍囧噯楂樺害 |
| **鍒嗗壊绾?* | 8px | 100% | 鎷栧姩鐑尯锛岃瑙夊搴?px |
| **鍙充晶鍐呭鍖?* | 鑷€傚簲 | 100% | Expanded鑷姩濉厖 |
| 鈹溾攢 AppBar | 100% | 58dp | 56dp鍐呭 + 2dp搴曢儴杈规 |
| 鈹溾攢 娑堟伅鍒楄〃 | 100% | 鑷€傚簲 | Expanded鑷姩濉厖 |
| 鈹斺攢 Composer | 100% | 56dp | 涓庡乏渚у簳閮ㄥ鑸榻?|

### 瀹瑰櫒杈圭晫涓庤儗鏅壊

```
鈹屸攢 Scaffold (moeSurface: #F3F6F8) 鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?
鈹?                                                                    鈹?
鈹? 鈹屸攢 宸︿晶杈规爮 (#F3F7F8) 鈹€鈹€鈹€鈹€鈹€鈹? 鈹屸攢 鍙充晶鍐呭鍖?(榛樿鑳屾櫙) 鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?鈹?
鈹? 鈹?                         鈹? 鈹?                                 鈹?鈹?
鈹? 鈹? 鈹屸攢 椤堕儴瀵艰埅 鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?鈹? 鈹? 鈹屸攢 AppBar (#F3F6F8) 鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?鈹?鈹?
鈹? 鈹? 鈹?(#F3F7F8)          鈹?鈹? 鈹? 鈹?                           鈹?鈹?鈹?
鈹? 鈹? 鈹斺攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?鈹? 鈹? 鈹斺攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?鈹?鈹?
鈹? 鈹? 鈹€鈹€鈹€鈹€鈹€鈹€鈹€ 2dp 鍒嗗壊绾?鈹€鈹€鈹€鈹€ 鈹? 鈹? 鈹€鈹€鈹€鈹€鈹€鈹€鈹€ 2dp 鍒嗗壊绾?鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€ 鈹?鈹?
鈹? 鈹?                         鈹? 鈹?                                 鈹?鈹?
鈹? 鈹? 鈹屸攢 鍐呭鍖?鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹? 鈹? 鈹? 鈹屸攢 娑堟伅鍒楄〃 鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹? 鈹?鈹?
鈹? 鈹? 鈹?(#F3F7F8)         鈹? 鈹? 鈹? 鈹?(閫忔槑/缁ф壙)             鈹? 鈹?鈹?
鈹? 鈹? 鈹?                  鈹? 鈹? 鈹? 鈹?                        鈹? 鈹?鈹?
鈹? 鈹? 鈹? ContactsList /   鈹? 鈹? 鈹? 鈹? MessageBubble:         鈹? 鈹?鈹?
鈹? 鈹? 鈹? Settings /       鈹? 鈹? 鈹? 鈹? - AI: #4C5B6F         鈹? 鈹?鈹?
鈹? 鈹? 鈹? Profile          鈹? 鈹? 鈹? 鈹? - User: #8BBBE9       鈹? 鈹?鈹?
鈹? 鈹? 鈹?                  鈹? 鈹? 鈹? 鈹?                        鈹? 鈹?鈹?
鈹? 鈹? 鈹斺攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹? 鈹? 鈹? 鈹斺攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹? 鈹?鈹?
鈹? 鈹?                         鈹? 鈹?                                 鈹?鈹?
鈹? 鈹? 鈹€鈹€鈹€鈹€鈹€鈹€鈹€ 2dp 鍒嗗壊绾?鈹€鈹€鈹€鈹€ 鈹? 鈹? 鈹€鈹€鈹€鈹€鈹€鈹€鈹€ 2dp 鍒嗗壊绾?鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€ 鈹?鈹?
鈹? 鈹? 鈹屸攢 搴曢儴瀵艰埅 鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?鈹? 鈹? 鈹屸攢 Composer (#F3F7F8) 鈹€鈹€鈹€鈹€鈹? 鈹?鈹?
鈹? 鈹? 鈹?(#F3F7F8)          鈹?鈹? 鈹? 鈹?                         鈹? 鈹?鈹?
鈹? 鈹? 鈹斺攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?鈹? 鈹? 鈹斺攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹? 鈹?鈹?
鈹? 鈹斺攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹? 鈹斺攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?鈹?
鈹斺攢鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹€鈹?
```

### 鍏抽敭浠ｇ爜浣嶇疆

| 缁勪欢 | 鏂囦欢浣嶇疆 | 璇存槑 |
|------|---------|------|
| SplitChatPage | `presentation/pages/split_chat_page.dart` | 鍙屾爮甯冨眬鏍圭粍浠?|
| 鈹溾攢 宸︿晶杈规爮瀹瑰櫒 | 鍚屼笂锛孉nimatedContainer | 鏀寔瀹藉害鍔ㄧ敾鍜屾嫋鍔ㄨ皟鏁?|
| 鈹溾攢 鎷栧姩鍒嗗壊绾?| 鍚屼笂锛孧ouseRegion + GestureDetector | 8px鐑尯锛?px瑙嗚绾?|
| 鈹斺攢 鍙充晶ChatPage | 鍚屼笂锛孍xpanded + ChatPage | 鑷€傚簲瀹藉害 |
| ContactsListContent | `presentation/widgets/contacts_list_content.dart` | 鑱旂郴浜哄垪琛紙澶嶇敤锛?|
| SettingsContent | `presentation/pages/settings_page.dart` | 璁剧疆鍐呭锛堝唴宓岋級 |
| ProfileContent | `presentation/widgets/profile_content.dart` | 涓汉涓績锛堝鐢級 |

**缁勪欢璇存槑锛?*
- `SplitChatPage` - 鍙屾爮甯冨眬鏍瑰鍣紝浣跨敤Row瀹炵幇宸﹀彸鍒嗗壊
- **宸︿晶杈规爮** (AnimatedContainer)锛?
  - 椤堕儴锛氳嚜瀹氫箟瀵艰埅鏍忥紙MyGril鏍囬 + 鍔犲彿鎸夐挳锛?
  - 涓棿锛欼ndexedStack鍒囨崲鏄剧ずContactsListContent/SettingsContent/ProfileContent
  - 搴曢儴锛欱ottomNavigationBar锛?涓爣绛鹃〉锛氭秷鎭€佽缃€佹垜鐨勶級
  - 鏀寔鎶樺彔鍔ㄧ敾锛坉uration: 250ms, curve: easeInOut锛?
- **鍒嗗壊绾?* (MouseRegion + GestureDetector)锛?
  - 鎷栧姩鐑尯8px锛岃瑙夊搴?px
  - 鏀寔姘村钩鎷栧姩璋冩暣宸︿晶杈规爮瀹藉害锛?00-600px鑼冨洿锛?
  - 榧犳爣鎮仠鏃舵樉绀簉esizeColumn鍏夋爣
- **鍙充晶鍐呭鍖?* (Expanded)锛?
  - 瀹屾暣鐨凜hatPage缁勪欢锛屽寘鍚獳ppBar銆佹秷鎭垪琛ㄣ€丆omposer
  - showToggleButton: true 鏄剧ず渚ц竟鏍忔姌鍙犳寜閽紙[鈽癩鍥炬爣锛?

---

## 馃З 鏍稿績缁勪欢鏋舵瀯锛堝簲鐢―RY鍘熷垯锛?

### Content 缁勪欢锛堢函鍐呭锛屾棤AppBar锛?

```
ContactsListContent  鈫愨攢鈹?
                       鈹溾攢 琚?ContactsPage 鍜?SplitChatPage 澶嶇敤
SettingsContent     鈫愨攢鈹?
                       鈹溾攢 琚?SettingsPage 鍜?SplitChatPage 澶嶇敤
ProfileContent      鈫愨攢鈹?
                       鈹斺攢 琚?ProfilePage 鍜?SplitChatPage 澶嶇敤
```

**浼樺娍锛?*
- 鉁?**DRY鍘熷垯**锛氬唴瀹圭粍浠跺彧鍐欎竴娆★紝澶氬澶嶇敤
- 鉁?**SOLID鍘熷垯**锛氬崟涓€鑱岃矗锛孋ontent缁勪欢鍙礋璐ｅ睍绀哄唴瀹?
- 鉁?**鏄撲簬缁存姢**锛氫慨鏀瑰唴瀹归€昏緫鍙渶鏀逛竴澶?

### Page 缁勪欢锛堝畬鏁撮〉闈紝甯ppBar锛?

```
ContactsPage = AppBar + ContactsListContent
SettingsPage = AppBar + SettingsContent
ProfilePage  = AppBar + ProfileContent
```

---

## 馃搻 楂樺害瀵归綈瑙勮寖

涓虹‘淇漊I涓€鑷存€э紝鎵€鏈夊簳閮ㄥ厓绱犻珮搴︾粺涓€锛?

| 缁勪欢 | 楂樺害 | 璇存槑 |
|------|------|------|
| BottomNavigationBar | 56dp | Material Design 鏍囧噯楂樺害 |
| Composer锛堣緭鍏ユ鍖哄煙锛?| 56dp | 涓庡簳閮ㄥ鑸潯瀵归綈 |
| AppBar | 56dp + 2dp | 鏍囧噯楂樺害 + 搴曢儴鍒嗗壊绾?|

**甯搁噺瀹氫箟锛?* `tokens.dart`
```dart
const double bottomBarHeight = 56.0;
const double borderWidth = 2.0;
```

---

## 馃帹 涓婚閰嶇疆锛圡oeTalk 椋庢牸锛?

### 棰滆壊鏂规锛坱okens.dart锛?

```dart
moePrimary         = #8BBBE9  // 涓昏壊璋冿紙钃濊壊锛?
moeSurface         = #F3F6F8  // 琛ㄩ潰鑳屾櫙鑹?
moePanel           = #DAE5F1  // 瀹瑰櫒鑳屾櫙
moeText            = #222529  // 涓绘枃鏈鑹?
moeBorderLight     = #E6E9EB  // 娣¤壊杈规
```

### UI鍏冪礌

- **AppBar**锛氭祬鑹茶儗鏅紙moeSurface锛?+ 娣辫壊鏂囧瓧锛坢oeText锛?
- **娑堟伅姘旀场**锛?
  - AI娑堟伅锛氭繁鐏拌摑鑳屾櫙锛?4C5B6F锛?+ 鐧借壊鏂囧瓧
  - 鐢ㄦ埛娑堟伅锛氫富钃濊壊鑳屾櫙锛坢oePrimary锛?
- **搴曢儴瀵艰埅/杈撳叆妗?*锛氱粺涓€鑳屾櫙鑹诧紙moeSurface锛?+ 椤堕儴鍒嗗壊绾?

---

## 馃搨 鏂囦欢缁撴瀯

```
lib/src/features/chat/presentation/
鈹溾攢鈹€ pages/
鈹?  鈹溾攢鈹€ main_page.dart           # 绐勫睆涓诲鍣?
鈹?  鈹溾攢鈹€ split_chat_page.dart     # 瀹藉睆鍙屾爮甯冨眬
鈹?  鈹溾攢鈹€ contacts_page.dart       # 鑱旂郴浜洪〉闈紙绐勫睆锛?
鈹?  鈹溾攢鈹€ chat_page.dart           # 鑱婂ぉ椤甸潰
鈹?  鈹溾攢鈹€ settings_page.dart       # 璁剧疆椤甸潰锛堢獎灞忥級
鈹?  鈹斺攢鈹€ profile_page.dart        # 涓汉涓績椤甸潰锛堢獎灞忥級
鈹斺攢鈹€ widgets/
    鈹溾攢鈹€ contacts_list_content.dart  # 鑱旂郴浜哄垪琛ㄥ唴瀹癸紙澶嶇敤锛?
    鈹溾攢鈹€ settings_content.dart       # 璁剧疆鍐呭锛堝鐢級
    鈹溾攢鈹€ profile_content.dart        # 涓汉涓績鍐呭锛堝鐢級
    鈹溾攢鈹€ composer.dart               # 杈撳叆妗嗙粍浠?
    鈹溾攢鈹€ message_bubble.dart         # 娑堟伅姘旀场
    鈹溾攢鈹€ character_list_item.dart    # 瑙掕壊鍒楄〃椤?
    鈹斺攢鈹€ common_app_bar.dart         # 鍏叡AppBar锛堝彲閫夛級
```

---

## 馃攧 璺敱閫昏緫锛圙oRouter锛?

```dart
/ (鏍硅矾寰?
鈹溾攢鈹€ 瀹藉害 < 900px  鈫?MainPage锛堝甫搴曢儴瀵艰埅锛?
鈹斺攢鈹€ 瀹藉害 鈮?900px  鈫?SplitChatPage锛堝弻鏍忓竷灞€锛?

/chat/:id (鑱婂ぉ椤甸潰)
鈹斺攢鈹€ ChatPage锛堝叏灞忔樉绀猴紝閫傜敤浜庣獎灞忕偣鍑昏仈绯讳汉鍚庯級
```

---

## 鉁?閲嶆瀯鎴愭灉鎬荤粨

### 鍒犻櫎鐨勯噸澶嶄唬鐮?
- 鉂?鍒犻櫎 `SplitChatPage._buildContactsList()` - 200+琛?
- 鉂?鍒犻櫎 `SplitChatPage._buildSettingsContent()` - 10琛?
- 鉂?鍒犻櫎 `SplitChatPage._buildProfileContent()` - 10琛?
- 鉂?鍒犻櫎 `SplitChatPage._getOrganizationColor()` - 20琛?

**鎬昏鍒犻櫎锛氱害240琛岄噸澶嶄唬鐮?*

### 鏂板鐨勫彲澶嶇敤缁勪欢
- 鉁?`ContactsListContent` - 鑱旂郴浜哄垪琛ㄥ唴瀹圭粍浠?
- 鉁?`SettingsContent` - 璁剧疆鍐呭缁勪欢
- 鉁?`ProfileContent` - 涓汉涓績鍐呭缁勪欢

### 搴旂敤鐨勮璁″師鍒?
- 鉁?**KISS鍘熷垯**锛氱畝鍖栨灦鏋勶紝閫昏緫娓呮櫚
- 鉁?**DRY鍘熷垯**锛氭秷闄ら噸澶嶄唬鐮侊紝涓€澶勪慨鏀瑰澶勭敓鏁?
- 鉁?**SOLID鍘熷垯**锛氬崟涓€鑱岃矗锛屽唴瀹圭粍浠跺彧璐熻矗灞曠ず

---

## 馃殌 涓嬩竴姝ュ紑鍙戝缓璁?

1. **缁熶竴鑱旂郴浜哄垪琛ㄦ牱寮?*锛氳€冭檻璁?`ContactsListContent` 鏀寔澶у睆閫変腑楂樹寒鏁堟灉
2. **鎻愬彇鍏叡AppBar**锛氫娇鐢?`CommonAppBar` 缁熶竴鎵€鏈夐〉闈㈢殑AppBar鏍峰紡
3. **瀹屽杽璁剧疆鍔熻兘**锛氬疄鐜癆PI閰嶇疆涓庡悗绔殑闆嗘垚
4. **娣诲姞鍔ㄧ敾鏁堟灉**锛氫紭鍖栭〉闈㈠垏鎹㈠拰渚ц竟鏍忔姌鍙犵殑鍔ㄧ敾

---

## 馃搳 瀹炵幇杩涘害鎬荤粨锛?025-10-24锛?

### 鉁?宸插畬鎴愭ā鍧?

#### 1. **鏍稿績鏋舵瀯涓庡竷灞€**
- 鉁?鍝嶅簲寮忓竷灞€绯荤粺锛堢獎灞?瀹藉睆鑷€傚簲锛?
- 鉁?璺敱閰嶇疆锛圙oRouter锛? 鑷姩鏍规嵁灞忓箷瀹藉害鍒囨崲椤甸潰
- 鉁?涓婚绯荤粺锛圡oeTalk椋庢牸锛?- 瀹屾暣鐨勯鑹蹭綋绯诲拰璁捐瑙勮寖
- 鉁?DRY鏋舵瀯閲嶆瀯 - 娑堥櫎浜嗙害240琛岄噸澶嶄唬鐮?

#### 2. **椤甸潰瀹炵幇**
| 椤甸潰 | 鐘舵€?| 璇存槑 |
|------|------|------|
| MainPage | 鉁?瀹屾垚 | 绐勫睆涓诲鍣紝甯﹀簳閮ㄥ鑸爮 |
| SplitChatPage | 鉁?瀹屾垚 | 瀹藉睆鍙屾爮甯冨眬锛屾敮鎸佷晶杈规爮鎷栧姩璋冩暣瀹藉害 |
| ChatPage | 鉁?瀹屾垚 | 鑱婂ぉ椤甸潰锛屾敮鎸佹秷鎭睍绀轰笌鍙戦€?|
| ContactsPage | 鉁?瀹屾垚 | 鑱旂郴浜洪〉闈紙绐勫睆锛?|
| SettingsPage | 鉁?瀹屾垚 | 璁剧疆椤甸潰锛堢獎灞忥級 |
| ProfilePage | 鉁?瀹屾垚 | 涓汉涓績椤甸潰锛堢獎灞忥級 |

#### 3. **鏍稿績缁勪欢瀹炵幇**
| 缁勪欢 | 鐘舵€?| 浣嶇疆 | 璇存槑 |
|------|------|------|------|
| ContactsListContent | 鉁?瀹屾垚 | widgets/ | 鑱旂郴浜哄垪琛ㄥ唴瀹癸紝鍙鐢?|
| SettingsContent | 鉁?瀹屾垚 | pages/settings_page.dart | 璁剧疆鍐呭锛堢洰鍓嶅湪page鏂囦欢鍐咃級 |
| ProfileContent | 鉁?瀹屾垚 | widgets/ | 涓汉涓績鍐呭锛屽彲澶嶇敤 |
| Composer | 鉁?瀹屾垚 | widgets/ | 杈撳叆妗嗙粍浠讹紝鏀寔妯″瀷閫夋嫨 |
| MessageBubble | 鉁?瀹屾垚 | widgets/ | 娑堟伅姘旀场缁勪欢 |
| CharacterListItem | 鉁?瀹屾垚 | widgets/ | 瑙掕壊鍒楄〃椤圭粍浠?|
| CharacterDisplay | 鉁?瀹屾垚 | widgets/ | 瑙掕壊灞曠ず缁勪欢 |

#### 4. **鏁版嵁灞備笌涓氬姟閫昏緫**
- 鉁?**API闆嗘垚**
  - `ChatApi` - 鑱婂ぉ娑堟伅鍙戦€佷笌鎺ユ敹
  - `TtsApi` - 璇煶鍚堟垚鏈嶅姟闆嗘垚
  - `ChatService` - 楂橀樁鏈嶅姟锛屾敮鎸佸彂閫佹秷鎭悗鑷姩TTS鎾斁
  - `ApiClient` - 閫氱敤HTTP瀹㈡埛绔皝瑁?

- 鉁?**鐘舵€佺鐞嗭紙Riverpod锛?*
  - `ConversationsNotifier` - 浼氳瘽绠＄悊
  - `chatApiProvider` - ChatApi鎻愪緵鑰?
  - `ttsApiProvider` - TtsApi鎻愪緵鑰?
  - `chatServiceProvider` - ChatService鎻愪緵鑰?
  - `ttsPlayerUsecaseProvider` - TTS鎾斁鐢ㄤ緥鎻愪緵鑰?
  - `activeConversationIdProvider` - 褰撳墠娲昏穬浼氳瘽ID
  - `sidebarVisibleProvider` - 渚ц竟鏍忔樉绀虹姸鎬?

- 鉁?**棰嗗煙妯″瀷**
  - `Message` - 娑堟伅瀹炰綋
  - `Conversation` - 浼氳瘽瀹炰綋
  - `CustomModel` - 鑷畾涔夋ā鍨嬮厤缃?

#### 5. **鍔熻兘鐗规€?*
- 鉁?澶氫細璇濈鐞?- 鏀寔鍒涘缓銆佸垏鎹€佺鐞嗗涓璇?
- 鉁?妯″瀷閫夋嫨 - 鏀寔鍦ㄨ亰澶╃晫闈㈤€夋嫨涓嶅悓鐨凙I妯″瀷
- 鉁?TTS璇煶鎾斁 - 闆嗘垚just_audio锛屾敮鎸丄I娑堟伅鑷姩鎾斁
- 鉁?娑堟伅鍘嗗彶 - 淇濇寔瀹屾暣鐨勫璇濆巻鍙茶褰?
- 鉁?鍝嶅簲寮廢I - 鑷姩閫傞厤涓嶅悓灞忓箷灏哄
- 鉁?渚ц竟鏍忔嫋鍔?- 瀹藉睆妯″紡涓嬪彲璋冩暣渚ц竟鏍忓搴︼紙200-600px锛?

#### 6. **閰嶇疆涓庤缃?*
- 鉁?鏈湴鏁版嵁鎸佷箙鍖栵紙shared_preferences锛?
- 鉁?API鏈嶅姟鍣ㄩ厤缃?
- 鉁?妯″瀷鎻愪緵鍟嗙鐞嗭紙provider_api.dart, provider_state.dart锛?
- 鉁?TTS寮€鍏宠缃?

### 馃敤 杩涜涓?寰呬紭鍖栭」

#### 1. **缁勪欢浼樺寲**
- 鈿狅笍 **SettingsContent鐙珛鍖?*
  - 褰撳墠鐘舵€侊細`SettingsContent`瀹氫箟鍦╜settings_page.dart`鍐呴儴
  - 浼樺寲寤鸿锛氭彁鍙栧埌鐙珛鐨刞widgets/settings_content.dart`鏂囦欢
  - 浼樺厛绾э細涓?- 涓轰簡瀹屽叏閬靛惊DRY鍘熷垯

- 馃搵 **CommonAppBar鎻愬彇**
  - 褰撳墠鐘舵€侊細鍚勯〉闈ppBar鏍峰紡绫讳技浣嗙嫭绔嬪畾涔?
  - 浼樺寲寤鸿锛氭彁鍙栧叕鍏盇ppBar缁勪欢缁熶竴鏍峰紡
  - 浼樺厛绾э細浣?- 褰撳墠瀹炵幇鍙敤锛屼紭鍖栧悗鏇存槗缁存姢

#### 2. **鍔熻兘澧炲己**
- 馃搵 **鑱旂郴浜洪€変腑楂樹寒**
  - 褰撳墠鐘舵€侊細瀹藉睆妯″紡涓嬫湭瀹炵幇閫変腑鐘舵€佽瑙夊弽棣?
  - 浼樺寲寤鸿锛氬湪`ContactsListContent`涓坊鍔犻€変腑楂樹寒鏁堟灉
  - 浼樺厛绾э細涓?- 鎻愬崌鐢ㄦ埛浣撻獙

- 馃搵 **鍥剧墖鍙戦€佸姛鑳?*
  - 褰撳墠鐘舵€侊細Composer鏈夊浘鐗囨寜閽絾鍔熻兘鏈疄鐜?
  - 浼樺寲寤鸿锛氬疄鐜板浘鐗囬€夋嫨銆佷笂浼犮€佸睍绀哄姛鑳?
  - 浼樺厛绾э細楂?- 澶氭ā鎬佹敮鎸佹槸鏍稿績鍔熻兘

- 馃搵 **娑堟伅缂栬緫/鍒犻櫎**
  - 褰撳墠鐘舵€侊細ChatPage AppBar鏈夌紪杈戞寜閽絾鍔熻兘鏈畬鍠?
  - 浼樺寲寤鸿锛氬疄鐜版秷鎭殑缂栬緫銆佸垹闄ゃ€侀噸鏂扮敓鎴愮瓑鎿嶄綔
  - 浼樺厛绾э細涓?

- 馃搵 **鍔ㄧ敾浼樺寲**
  - 褰撳墠鐘舵€侊細鍩烘湰鐨勯〉闈㈠垏鎹㈠姩鐢?
  - 浼樺寲寤鸿锛氫紭鍖栦晶杈规爮鎶樺彔銆侀〉闈㈠垏鎹㈢瓑鍔ㄧ敾鏁堟灉
  - 浼樺厛绾э細浣?- 浣撻獙浼樺寲

#### 3. **鍚庣闆嗘垚**
- 馃攧 **涓诲姩娑堟伅鎺ㄩ€?*
  - 褰撳墠鐘舵€侊細浠呮敮鎸佺敤鎴峰彂璧风殑瀵硅瘽
  - 寰呭疄鐜帮細鎺ユ敹鍚庣涓诲姩鎺ㄩ€佺殑娑堟伅锛堟牳蹇冨姛鑳斤級
  - 浼樺厛绾э細楂?- 杩欐槸椤圭洰鐨勬牳蹇冨樊寮傚寲鍔熻兘

- 馃攧 **澶氭ā鎬佸唴瀹瑰睍绀?*
  - 褰撳墠鐘舵€侊細浠呭睍绀烘枃鏈秷鎭?
  - 寰呭疄鐜帮細灞曠ず鍚庣鐢熸垚鐨勫浘鐗囥€侀煶棰戠瓑澶氭ā鎬佸唴瀹?
  - 浼樺厛绾э細楂?

- 馃攧 **宸ュ叿璋冪敤鍙鍖?*
  - 褰撳墠鐘舵€侊細TTS宸ュ叿璋冪敤宸插彲瑙嗗寲
  - 寰呭疄鐜帮細灞曠ず鍏朵粬宸ュ叿锛堝浘鐗囩敓鎴愩€佹悳绱㈢瓑锛夌殑璋冪敤缁撴灉
  - 浼樺厛绾э細涓?

### 馃摝 渚濊禆搴?

| 渚濊禆 | 鐗堟湰 | 鐢ㄩ€?|
|------|------|------|
| flutter_riverpod | 2.5.1 | 鐘舵€佺鐞?|
| go_router | 14.2.0 | 璺敱绠＄悊 |
| http | 1.2.2 | HTTP瀹㈡埛绔?|
| shared_preferences | 2.3.2 | 鏈湴鏁版嵁鎸佷箙鍖?|
| just_audio | 0.9.39 | 闊抽鎾斁 |
| audio_session | 0.1.21 | 闊抽浼氳瘽绠＄悊 |

### 馃幆 鏍稿績鎶€鏈爤

- **妗嗘灦**锛欶lutter (SDK 鈮?.3.0)
- **鏋舵瀯妯″紡**锛欳lean Architecture锛堟暟鎹眰銆侀鍩熷眰銆佸睍绀哄眰鍒嗙锛?
- **鐘舵€佺鐞?*锛歊iverpod
- **璺敱**锛欸oRouter
- **缃戠粶璇锋眰**锛歨ttp
- **闊抽鎾斁**锛歫ust_audio
- **鍝嶅簲寮忚璁?*锛歁ediaQuery + LayoutBuilder

### 馃搱 浠ｇ爜璐ㄩ噺

- 鉁?閬靛惊KISS鍘熷垯 - 浠ｇ爜绠€娲佹槑浜?
- 鉁?閬靛惊DRY鍘熷垯 - 娑堥櫎閲嶅浠ｇ爜锛岀粍浠堕珮搴﹀鐢?
- 鉁?閬靛惊SOLID鍘熷垯 - 鍗曚竴鑱岃矗锛岄珮鍐呰仛浣庤€﹀悎
- 鉁?浣跨敤Material Design 3 - 缁熶竴鐨勮璁¤瑷€
- 鉁?绫诲瀷瀹夊叏 - 鍚敤flutter_lints涓ユ牸妯″紡

### 馃殌 涓嬩竴姝ュ紑鍙戦噸鐐?

1. **鍚庣涓诲姩娑堟伅鎺ㄩ€?* - 瀹炵幇WebSocket鎴朣SE杩炴帴锛屾帴鏀跺悗绔富鍔ㄥ彂閫佺殑娑堟伅
2. **澶氭ā鎬佸唴瀹瑰睍绀?* - 鍦∕essageBubble涓敮鎸佸浘鐗囥€侀煶棰戙€佽棰戠瓑鍐呭
3. **鍥剧墖鍙戦€佸姛鑳?* - 瀹屾垚Composer鐨勫浘鐗囬€夋嫨鍜屼笂浼犲姛鑳?
4. **SettingsContent鐙珛鍖?* - 鎻愬彇鍒扮嫭绔嬫枃浠讹紝瀹屽杽DRY鏋舵瀯
5. **鎬ц兘浼樺寲** - 澶ч噺娑堟伅鍦烘櫙涓嬬殑鍒楄〃婊氬姩鎬ц兘浼樺寲

---

**鏂囨。鐗堟湰锛?* v1.1  
**鏈€鍚庢洿鏂帮細** 2025-10-24  
**鏋舵瀯璁捐閬靛惊锛?* KISS + DRY + SOLID 鍘熷垯

## ?? 统一网关（/v1）与本地调试

- 前端聊天与模型列表已改为调用后端统一接口：
  - GET  /v1/models
  - POST /v1/agents/{agentId}/sessions/{sessionId}/messages  （支持 stream=false 的非流式返回）
- 基地址通过 --dart-define=API_BASE_URL=http://localhost:8000 注入，未注入时回退为当前页面域名。

示例命令：
- flutter run -d chrome --dart-define=API_BASE_URL=http://localhost:8000
- flutter build web --dart-define=API_BASE_URL=http://localhost:8000
